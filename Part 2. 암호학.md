# Part 2. 암호학

## Section 2. 암호학 개요

### 암호공격 방식

- 트래픽 분석(traffic analysis)
  - 비록 데이터를 암호화하여 그 데이터를 이해할 수 없다 할지라도 도청자는 온라인 트래픽을 분석함으로써 다른 형태의 정보를 얻을 수 있다
- 스누핑(snooping)
  - 불법적인 공격자가 전송되는 메시지를 도중에 가로채어 그 내용을 외부로 노출시키는 공격

- 재생공격
  - 공격자가 이전에 특정 송신자와 수신자 간에 행해졌던 통화내용을 도청하여 보관하고 있다가 나중에 재생하여 전송하는 공격
- 삽입공격
  - 불법적인 공격자가 정당한 송신자로 가장하여 특정 수신자에게 메시지를 보내어 불법적인 효과를 발생시키는 공격
- 메시지 변조
  - 전송되는 메시지들의 순서를 바꾸거나 또는 메시지의 일부분을 다른 메시지로 대체하여 불법적인 효과를 발생시키는 공격

### 공격법, 공격형태, 보안  목표

- 스누핑 - 수동적 공격 - 기밀성
- 프래픽 분석 - 수동적 공격 - 기밀성
- 재전송 공격 - 능극적 공격 - 무결성
- 서비스 거부 - 능동적 공격 - 가용성

### 거부적 암호화(deniable encryption)

- 하나의 암호 테스트를 둘 이상의 방법으로 해독하는 정보보안 형식
- 논쟁 대상이 되는 메시지를 상대에게 숨기거나 거부하기 위해 사용
- ex) 어떤 회사에서 그 회사 고위 관리자에게 한 암호 전문을 보내면 각자 자신의 키를 사용하여 동일한 전물을 해독했을 때 한 사람은 전문 A로 읽고 다른 사람은 전문 B로 읽게 된다.
- 통신 도청자에게 잘못된 정보를 전달하기 위해 사용

### 하이브리드 암호화(hybrid encryption)

- 대칭키 암호는와 공개키 암호를 조합한 암호 방식
- 대칭키 암호와 공개키 암호의 장점 조합

### 스트림 암호화(straem encryption)

- 한번에 1비트 혹은 1바이트의 데이터 흐름(스트림)을 순차적으로 처리해가는 암호 알고리즘의 총칭
- 암호화 방식은 평문과 키 스트림을 XOR하여 생성
- 블록 암호와 다르게 내부 상태를 가지고 있다.
- 군사 및 외교용으로 널리 사용
- 안전성을 수학적으로 엄밀하게 분석할 수 있어 이동 통신 등의 무선 데이터 보호에 적합
- 원타임 패스워드를 실용적으로 구현할 목적으로 개발

#### 동기적 스트림 암호화

- 스트림 암호의 난수열을 암호화할 입력값과 독립적으로 생성하는 경우
- 암호화와 복호화에서 상호 동기화가 필수
- 전송도중 변조되어도 후속 암호문에 오류의 영향 파급x
- 의도적인 변조를 복호화 단계에서 검출 불가

#### 자기 동기식 스트림 암호화(비동기식 스트림 암호화)

- 암호문이 전송도중 변경되어도 자기 동기화 가능
- 변조된 암호문이 후속 암호문 복호화에 사용되지 않아 오류 파급 제한적
- 입력값이 난수열 생성에 영향을 끼치는 경우

### 블록 암호화(block encryption)

- 어느 특정 비트 수의 집합을 한 번에 처리하는 암호 알고리즘
- 블록 비트 수 = 블록 길이
- 일반적인 길이 8비트(ASCII), 16비트(Unicode)
- 스트림 암호와 다르게 Round 사용
- 반복적으로 암화화 수행 -> 암호화 강도▲

### 스트림 vs 블록

| 구분        | 스트림                            | 블록                                 |
| ----------- | --------------------------------- | ------------------------------------ |
| 장점        | 암호화 속도 빠름, 에러 전파 현상x | 높은 확산, 기밀성, 해시 함수 등 다양 |
| 단점        | 낮은 확산                         | 느린 암호화, 에러 전달               |
| 사례        | LFSR, MUX generator               | DES, IDEA, SEED, RC5, AES, CFB, OFB  |
| 암호화 단위 | 비트                              | 블록                                 |
| 주요 대상   | 음성, 오디오/비디오 스트리밍      | 일반 데이터 전송, 스토리지 저장      |

### 링크 암호화(link encryption)

- 모든 정보는 암호화되고, 패킷은 라우터나 다른 중간에 있는 장비가 이 패킷을 다음에 어디로 보내야 하는지 알아야 하기 때문에 각 홉(hop)에서 해독되어야 한다.
  - 홉(hop) : 패킷이 그것의 목적지에 도달할 수 있도록 돕는 장비
- 라우터는 패킷의 헤더 부분 해독, 헤더 내의 라우팅과 주소 정보를 읽고, 그런 다음 그것을 다시 암호화하고 진행 방향으로 보내야 한다.
- 데이터 링크 또는 물리적 계층에서 일어난다.
- 하드웨어 암호화 장치들은 물리적 계층과 인터페이스를 가지고 그것을 통과하는 모든 데이터를 암호하한다.

### 종단간 암호화(end-to-end encryption)

- 헤더와 트레일러가 암호화되지 않기 때문에 패키을 각 홉에서 해독하고 암호화할 필요x
- 근원지와 목적지 사이에 있는 장비들은 단지 필요한 라우팅 정보만 읽고 패킷을 그 진행 방향으로 통과
- 근원지 컴퓨터의 사용자에 의해 시작
- 사용자가 어떤 메시지를 암호화할 것인지 하지 않을 것인지 사용자가 결정 -> 유연성 제공
- 애플리케이션 계층에서 암호화

### 링크vs종단간

| 구분 | 링크                                                         | 종단간                                                       |
| ---- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 특징 | ISP나 통신업자가 암호화<br />헤더를 포함한 모든 데이터 암호화<br />유저가 알고리즘 통제 불가 | 사용자가 암호화<br />헤더(라우팅 정보)는 암호화x<br />유저가 알고리즘 통제 가능 |
| 장점 | 운영 간단<br />트래픽 분석 어려움<br />온리인으로 암호화     | 사용자 인증 등 높은 수준의 보안 서비스 제공 가능<br />중간노드에서도 데이터가 암호문으로 존재 |
| 단점 | 중간 노드에서 데이터가 평문으로 노출<br />제한적인 보안 서비스<br />모든 노드가 암호화 장비를 갖추어야하므로 네트워크가 커지면 비용▲ | 트래픽 분석 취약<br />오프라인으로 암호화                    |

### 선형귀한레지스터(LFSR)

- 시프트 레지스터의 일종으로, 레지스터에 입력되는 값이 이전 상태 값들의 선형 함수(XOR)로 계산되는 구조를 갖고 있다.
- 레지스터가 가질 수 있는 값의 개수는 유한 -> 이 수열은 특정한 주기에 의해 반복 -> 달성할 수 있는 최대 주기의 수열을 얻을 수 있음
- 수학적 분석에 용이
- 길이▲ -> 헤독 난이도▲
- LFSR의 최소 길이 => 선형복잡도
- 알려진 평문 공격에 취약, 키 이진수열과 LFSR 출력수열 상관관계 존재 -> 상관공격 가능

### 비대칭키 암호 시스템

- n명의 사용자가 참여하는 경우 필요한 키의 총 개수는 2n개이지만 각자가 관리애햐하는 키의 개수는 각자의 개인키와 공개키 2개
- 공개키 암호방식은 수학 이론적으로 풀기 어려운 문제를 이용 -> 암호화 시간▲

### 기지 평문 공격(Known plaintext attack)

- 암호 해독자는 일정량의 알려진 평문에 대응하는 암호문을 알고 있음
- 암호화 키를 알아내거나, 다른 암호문들에 대응되는 평문을 추정하는 방법

### 선택 평문 공격(Chosen plaintext attack)

- 암호해독자가 사용된 암호기에 접근할 수 있어 평문 P를 선택하여 그 평문 P에 해당하는 암호문 C를 얻어 키 K나 평문 P를 추정하여 암호를 해독하는 방법

### KCMVP(Korea Cryptographic Module Validation) 검증제도

- 국내 국가공공기관 정보통신망에서 소통되는 자료 중에서 비밀로 분휴되지 않은 중요 정보의 보호를 위해 사용되는 암호모듈의 안전성과 구현 적합성을 검증하는 제도

### V&V(Validation amd Verification) 검증제도

- 소프트웨어 프로젝트 관리와 테스트 그리고 적성에서 소프트웨어 시스템이 사양과 의도된 목적을 만족시키는가를 검사하는 과정
- = 소프트웨어 품질 조정

### CAVP(Cryptographic Algorithm Validation Program) 검증제도

- 암호 제품에 들어가는 암호 알고리즘이 정확하게 구현되어 있는지에 대한 평가가 매우 중요한데 이를 평가해주는 제도(검증 프로그램)

### CC(Common Criteria)

- 국제공통평가기준, 보안제품 평가 인증제도

### DRM 기술

- 워터링홀 : DRM 기술x
  - 적으로 삼은 특정 집단이 주로 방문하는 웹 사이트를 감염시키고 피해 대상이 그 웹사이트를 방문할 때까지 기다리는 웹 기반 공격
- PKI(Public Key Infrastructure) 기반 불법복제방지 기술
  - 소비자의 암호화키를 이용하여 콘텐츠를 페키징함으로써 다른 사람들이 이용할 수 없도록 하는 방식
  - 단점 : 소비자에게 종속적인 암호화를 수행함에 따라 콘텐츠 배포 서버의 프로세스 부담이 가중되고 슈퍼 배포자와 같은 기능이 없어 디지털 콘텐츠 유통에는 부적합(적합x)
  - DOI(Digital Object Identifier) 기반 저작권 보호 기술
    - 저작권 관리 정보를 바탕으로 저작권 인증을 부여하는 기술
    - 단점 : 불법복제 및 불법사용 방지 기능 제공x -> 적극적인 보호x

### DRM 워터마킹 기법

#### 연성 워터마킹(Fragile Watermarking)

- 고의로 내성이 약한 워터마크를 삽입해 잘 소멸되도록 하여 변조된 부분에 대하여 원본의 웨손 여부를 알아내는 방법
- 원본 훼손 -> 워터마크 훼손 -> 무결성 보장

#### 내성(강성) 워터마킹(Robust Watermarking)

- 저작권자만이 추출할 수 있는 저작권자의 정보를 시각과 청각으로 구분할 수 없게 삽입하는 기술
- 저작권 보호 기술

#### 핑커프린팅(Fingerprinting)

- 디지털 콘텐츠 구매 시, 구매자의 정보 삽입
- 불법 배포 발견 시 최초 배포자 추적 가능

#### 보안 토큰(Hardware Security Module, HSM)

- 전자 서명 생성 키 등 비밀 정보를 안전하게 저장, 보관할 수 있고 기기 내부에 프로세스 및 암호 연산 장치가 있어 전자 서명 키 생성, 전자 서명 생성 및 검증 등이 가능한 하드웨어 장치
- 장치 외부로 복사 또는 재생

### 스테가노그래피

- 전달하려는 기밀 정보를 이미지 파일이나 mp3 파일 등에 암호화하여 숨기는 심층암호화 기술로 고대 그리스에서부터 이용된 것으로 현대 암호학에서 다루는 암호화의 다른 개념(DRM 기술x)

## Section 3. 대칭키 암호

### 단일 문자 암호(Monoalphabetic ciphers)

- 단일문자 암호에서는 평문 속의 하나의 문자 혹은 기호가 위치와

